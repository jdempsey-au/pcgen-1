<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>
	<!--
		PCGen Documentation Project

		$Header: /cvsroot/pcgendocs/pcgendocs/docs/faqpages/faqoutofmemoryandjavaissues.html,v 1.2 2007-08-05 03:54:46 (Sat, 5 Aug 2007 fitzs $
		$Author$
		$Date$
		$Revision$

		Contributors:
		ravagonATbredbandDOTnet
		Michael <java_kensaiATsbcglobalDOTnet>
		Paul W. King <paulkingDOTrhochiATverizonDOTnet>
		Terry FitzSimons <fitzsimonsATmintelDOTnet>

		Description:
		PCGen FAQ Out of Memory and Java Issues.
	-->
	<head>
		<title>Out of Memory and Java Issues</title>
		<link rel="stylesheet" type="text/css" href="../pcgen.css" >
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	</head>

	<body>
		<h1>Out of Memory Issues</h1>


				<p><span class="underline">How do I increase my memory?</span></p>

				<p>For Windows Users:<br /></p>

				<ul>
					<li>Try edit the pcgen.bat file and assign more memory to pcgen, this means changing the
					<code>-Xmx</code> option:<br>&#160;&#160;&#160;&#160;&#160;&#160;
					<br><br>
					from <code>java -Dswing.aatext=true -Xms128m -Xmx256m -jar pcgen.jar</code>
					<br><br>
					to <code>java -Dswing.aatext=true <strong>-Xms256m -Xmx512m</strong> -jar pcgen.jar</code>
					<br><br>
					-Xms - This assigns starting of 256Mb of RAM and should be enough memory for pcgen to run
					with lots of sources loaded.
					<br><br>
					-Xmx - This assigns maximum of 512Mb of RAM and should be enough memory for pcgen to run
					with lots more sources and characters loaded.</li>
				</ul>

				<p>For Mac Users:<br /></p>

				<ul>
					<li>You increase the memory allotment by editing the info.plist file, which can be found in
					the 'Contents' folder inside of the PCGen 5.10.1 app package.
					<br><br>
					1) Right-click, or commend-click, on the PCGen app and select 'Show Package Contents'.
					<br><br>
					2) Double click on the 'Contents' folder. (If in Columns view, single click on the Contents
					folder.)
					<br><br>
					3) Right-click, or command-click, on 'info.plist', selecting 'Open with' and then the
					application you wish to use t edit the file.  Text Editor will work but if you have
					Property List Editor, things will work out better.
					<br><br>
					4) Look for the following text: -Xms128m -Xmx256m
					<br><br>
					4.1) If you have 512MB of ram, you can change the text to the following: -Xms256m
					-Xmx512m
					<br><br>
					4.2) If you have 1GB of ram, you can change the text to the following: -Xms512m
					-Xmx1024m
					<br><br>
					5) Save the file and relaunch PCGen.</li>
				</ul>

				<p>For Unix Users:<br /></p>

				<ul>
					<li>Refer to Mac instructions</li>
					<li>Alternatively, you may make the following change to the <em>pcgen.sh</em> file.:
						<ol>
							<li>Open the <em>pcgen.sh</em> file.</li>
							<li>Find the following line: <code>java -jar ./pcgen.jar</code> . . .</li>
							<li>Replace it with the following line: <code>java -Xms256m -Xmx512m -jar ./pcgen.jar</code> . . .</li>
							<li>The values &quot;256&quot; and &quot;512&quot; are the &quot;Minimum&quot; 
								and &quot;Maximum&quot; memory allocated to PCGen when it is run.</li>
							<li>The line of replacement code may also be run at the command line.</li>
						</ol>
					</li>
				</ul>
			<p></ p>
				<p>For All Users:<br /></p>

				<ul>
					<li>Don't load sources that you don't need.</li>

					<li>In Preferences - Don't auto create equipment, use the provided equipment and custom
					create equipment as needed. To custom create, right click on the basic equipement and add to
					it.</li>
				</ul>
			<p></ p>

<h1>Java Issues</h1>


			<p></ p>
				<p><span class="underline">What Java do I need?</span></p>

                <p>"PCGen 5.12.x and above needs Java 1.5.x or Java 1.6.0_01 (and above)"<br /></p>
				<p>"PCGen 5.10.2 and below needs Java 1.5.x"<br /></p>
				<p>"PCGen 5.8.1 and below needs Java 1.4.x"<br /></p>
				<p>"PCGen 5.6.1 and below needs Java 1.3.x"<br /></p>






				<p><span class="underline">How do I find my Java?</span></p>

				<p>"Not good.  Im getting "Bad command or file name"<br /></p>

				<ul>
					<li>Sounds like you don't have java installed then. Go to <a href="http://java.sun.com/">http://java.sun.com/</a>
						and download and install the latest java 1.5.x JRE. You'll then be able to run PCGen.</li>
				</ul>

				<p>For Windows Users:<br /></p>
				<ul>
					<li>First question is, do you have java installed on your machine. If you don't know, go the
					command prompt and type:<br>&#160;&#160;&#160;&#160;&#160;&#160;
					<code>java -version</code>
					<p></ p>
					<li>You should get some kind of a response like:<br>&#160;&#160;&#160;&#160;&#160;&#160;
					<code>java version "1.5.0_06"<br>&#160;&#160;&#160;&#160;&#160;&#160;
					Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_06-b05)<br>&#160;&#160;&#160;&#160;&#160;&#160;
                    Java HotSpot(TM) Client VM (build 1.5.0_06-b05, mixed mode, sharing)</code>
				</ul>

				<p>For Mac Users:<br /></p>
				<ul>
					<li>What Java run-time environment (JRE) are you running? (I think I already know the
					answer, but asking anyway.) From a command line (open a Terminal window), enter:<br>&#160;&#160;&#160;&#160;&#160;&#160;
					<code># java -version</code>
				<p></ p>
					<li>You should get some kind of a response like:<br>&#160;&#160;&#160;&#160;&#160;&#160;
					<code>java version "1.5.0_06"<br>&#160;&#160;&#160;&#160;&#160;&#160;
					Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_06-b05)<br>&#160;&#160;&#160;&#160;&#160;&#160;
                    Java HotSpot(TM) Client VM (build 1.5.0_06-b05, mixed mode, sharing)</code>
				</ul>

				<p>For Unix Users:<br /></p>

				<ul>
					<li>Refer to Mac instructions</li>
				</ul>

				<p>For Fedora Users:<br /></p>

				<ul>
					<li>I can't run pcgen on fedora 7. It crashes just after the options directory selection.</li>

					<li>PCGen does not run under licgcj (GNU's Java library) because it is incomplete (it is
					not a complete implementation of Java, especially with respect to Swing (the UI))</li>

					<li>You need to download a complete Java implementation, such as that from Sun
					Microsystems (available at <a href="http://java.sun.com/">http://java.sun.com/</a>)</li>
				</ul>
			<p></ p>
				<p>For Ubuntu Users:<br /></p>

				<p class="indent1">The #1 issue for PCGen users running on Ubuntu is that you need to use the Sun Java implementation,
					not the default that ships with Ubuntu.</p>

				<ul>
					<li>Check the version of Java being used: <code>$ java -version</code></li>
					<li>If not using Sun's JRE, you will need to install it. (see the Ubuntu wiki for help)</li>
					<li>If Sun's Java is installed but not running, update the default java by using: 
					<ul>
						<li><code>$ sudo update-alternatives --config java</code><br>
						or</li>
						<li><code>$ sudo update-alternatives --set \java /usr/lib/jvm/java-1.5.0-sun/jre/bin/java</code><br>
						Note: Both command do the same thing (with the first command you get a list of possible java's and are asked to choose).</li>
					</ul>
					<li>WARNING: Manually moving files and placing symbolic links might get the job done but is probably bad
					for the long-term health of your system. I think things might break with an update.</li>
				</ul>

		<h1>Operating System Issues</h1>

				<p class="indent0">For Vista and XP 64 Bit Users:</p>
				
				<p class="indent1">Question: Why doesn't Windows Vista/XP 64 run the <em>pcgen.bat</em> file?</p>

				<p class="indent1">Answer: The most common cause of this problem is that Windows is not 
					pointing the command "java" to the java.exe file.</p>
				<p class="indent2">Solution #1: Create a new file called <em>PCGen.cmd</em> and then put 
				the following into it:</p>

				<ol class="indent2">
					<li><code>&lt;Path to Java&gt; -Xms&lt;Minimum Memory&gt;m -Xmx&lt;Maximum Memory&gt;m -jar E:\PCGen5102\pcgen.jar</code></li>
					<li>Put your paths and memory limits in as appropriate. If the path has a space in it, you need the quotes.
					<ol style="list-style-type: lower-alpha">
						<li>Sample Path to Java: &quot;C:\Program Files (x86)\Java\jre1.6.0_01\bin\java.exe&quot;</li>
						<li>Minimum Memory: 768, Maximum Memory: 1024
						<li>Sample Path to PCGen: &quot;E:\PCGen5102\&quot;</li>
						<li>Note: &quot;Quotes&quot; are required in path names that include spaces.</li>
					</ol></li>
					<li>Launch PCGen by running the <em>PCGen.cmd</em> file.</li>
				</ol>
				<p></ p>

				<p class="indent2">Solution #2: Add the bin directory from your java install to the path.:</p>

				<ol class="indent2">
					<li>Open the control panel.</li>
					<li>Open the system item.</li>
					<li>Select the advanced tab.</li>
					<li>Click on the button marked environment variables.</li>
					<li>On my system path is listed under the system variables.</li>
					<li>Edit the path item.</li>
					<li>Add the bin directory to the end of the path.</li>
					<li>Note: The path is a semi-colon (;) separated list.</li>
					<li>Launch PCGen by running the <em>pcgen.bat</em> file.</li>
				</ol>

<hr>

	<p>
	<a href="http://validator.w3.org/check?uri=referer"><img
       	src="../images/system/valid-html401.png"
       	alt="Valid HTML 4.01 Strict" height="31" width="88"></a>
	</p>
	</body>

</html>