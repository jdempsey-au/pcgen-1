<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

	<head>
		<title>LST File Class</title>
		<link rel="stylesheet" type="text/css" href="../../pcgen.css">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	</head>

	<body>

		<h1>Lesson #17: .lst - Converting Feats to Abilities </h1>

		<p class="indent0">By Andrew A. Maitland (LegacyKing) and Eric C Smith (Maredudd)</p>

		<p class="indent0"><strong>File(s) Covered:</strong>
			<span class="lstfile">*abilities.lst</span>, <span class="lstfile">*feat.lst</span>, 
			<span class="lstfile">*.pcc</span>, <span class="lstfile">*abilitycategory.lst</span>,
			<span class="lstfile">miscinfo.lst</span></p>

		<p class="indent0"><strong>Tags used:</strong></p>

		<p class="indent1"> <code><a href="../systemfilestagpages/gamemodemiscinfolist.html#ABILITYCATEGORY">ABILITYCATEGORY</a>, 
			<a href="../systemfilestagpages/globalfilesability#CATEGORY2">CATEGORY</a>, 
			<a href="../systemfilestagpages/gamemodemiscinfolist.html#PLURAL">PLURAL</a>, 
			<a href="../systemfilestagpages/gamemodemiscinfolist.html#EDITABLE">EDITABLE</a>, 
			<a href="../systemfilestagpages/gamemodemiscinfolist.html#EDITPOOL">EDITPOOL</a>, 
			<a href="../systemfilestagpages/gamemodemiscinfolist.html#FRACTIONALPOOL">FRACTIONALPOOL</a>, 
			<a href="../systemfilestagpages/gamemodemiscinfolist.html#POOL">POOL</a>, 
			<a href="../systemfilestagpages/globalfilesability.html#VISIBLE">VISIBLE</a>, 
			<a href="../systemfilestagpages/globalfilesdefine.html">DEFINE</a>, 
			<a href="../systemfilestagpages/gamemodemiscinfolist.html#TYPE">TYPE</a>, 
			<a href="../globalfilestagpages/globalfilesprexxx.html">PREABILITY</a>, 
			<a href="../globalfilestagpages/globalfilesprexxx.html">PRESKILL</a>, 
			<a href="../globalfilestagpages/globalfilesprexxx.html">PREVARLT</a>, 
			<a href="../globalfilesother.html#DESC">DESC</a>, 
			<a href="../globalfilesbonus.html#VAR">BONUS:VAR</a></code></p>
		<p></p>

<hr>

		<p class="indent0">Beginning with PCGen 5.12, and maturing in PCGen 5.14, the Ability 
			object has been available to the lst monkey as a more flexible tool than the existing 
			Feat object. Though it was originally conceived as a replacement for the Feat, it will 
			take quite some time before the Feat actually goes away, if it ever does.</p>
		<p class="indent0">This lesson will assist users in converting their existing homebrew 
			feats to the new Ability object. To accomplish this, the lesson is broken into two 
			sections, the Basic Conversion and the Advanced Conversion. Within each of these 
			sections you will find discussion of each file that must be modified, and the tags 
			required to accomplish the conversion of your homebrew feats.</p>
		<p class="indent0">What this lesson will not tell you is how to create either Feats or Abilities. 
			Both are very similar in construction, using the same set of general tags to provide the 
			functionality required to implement varied game rules used. To get an idea of how to build 
			feats you can look up <a href="lfc_lesson12_feat1.html">LST File Class #12</a> and 
			<a href="lfc_lesson13_feat2.html">LST File Class #13</a>, Feat LST Classes parts 1 and 2. 
			There will eventually be a LST FIle Class for Abilities so you can check back periodically 
			to see if its been released yet.</p>
		<p class="indent0">For those of you that have gone through the previous LST Classes, some of 
			the global tags will be repetitive. feel free to skip those portions if you like. These 
			classes are being written for the new LST-Monkey, so there will be some overlap, but a 
			student of the classes does not need to take them in order.</p>
		<p class="indent0">Because HTML formatting cannot exactly replicate what you would see in a LST 
  		file we are going to use certain conventions to convey these ideas:</p>
		<p class="indent1">1) Coding examples and PCGen tags are identified by <code>code</code> 
			style.</p>
		<p class="indent1">2) When referencing a specific PCGen object, i.e. domain, feat, weapon, etc., 
			I have included the name as a <span class="lstobj">LST Object</span> text, except for when 
			the object is part of a <code>&lt;code&gt;</code> example.</p>
		<p class="indent1">3) Each new line should be considered a <code>&lt;TAB&gt;</code> in the actual file.</p>
		<blockquote>
			<p class="indent1">So examples in this lesson will appear as:</p>
			<p class="indent2"><code>ABILITYCATEGORY:My Ability Category</code></p>
			<p class="indent2"><code>CATEGORY:FEAT</code></p>
			<p class="indent1">Will in the LST file appear as:</p>
			<p class="indent2"><code>ABILITYCATEGORY:My Ability Category</code> &lt;tab&gt; <code>CATEGORY:FEAT</code></p>
		</blockquote>
		<p class="indent0">Finally, you will see several LST files referenced within this lesson.  The 
			files names used are generic file names and do not represent what your files will need to 
			be called. The general convention used for official datasets within PCGen can be found by 
			browsing the collection of datasets in PCGen's data folder.  You are free to call your 
			homebrew datasets by what name you will, though I find it helps to include the object type 
			contained within the file in the name of the file, i.e. the <span class=lstfile>my_campaign_abilities.lst</span> 
			file would contain the Abilities I have created for My Campaign setting.</p>
		<p></p>

<hr>

		<h2><a name="SECTION1">Section 1: The Basic Conversion</a></h2>
		
		<p class="indent1">The basic process of converting Feats to Abilities is to create a new file 
			called the <span class="lstfile">abilities.lst</span> file and then copy the homebrew feats 
			that you wish to convert to the new file and removing them from the 
			<span class="lstfile">feat.lst</span> file. You will then need to add the appropriate 
			<code>CATEGORY</code> tag to the copied feats. The next step is to modify your hombrew 
			<span class="lstfile">*.pcc</span> file by adding the <code>ABILITY</code> tag.</p>
		<p class="indent1">The relevant files and tags are explained below.</p>
		<p></p>

<hr>

		<h3>Ability.lst File</h3>
		<p class="indent0">This is where your feat will be placed. You will need to add 'CATEGORY' to your feat to make it an ability.</p>
		<p></p>
		<p class="indent0"><strong>&lt;Ability Name&gt;</strong></p>
		<p class="indent1">The first line is the Name of the Ability, you can have any name you prefer 
			that makes sense. In ths example we are using a shortened name to simplify the lesson.</p>
		<p class="indent0"><strong>CATEGORY</strong></p>
		<p class="indent1"><strong>Tag Format:</strong> <code>CATEGORY:FEAT</code></p>
		<p class="indent1">This places the ability named in the 'FEAT' category.  Note the ALL CAPS if 
			making an actual FEAT; other abilitiy categories can be whatever name you decide upon&gt;</p>
		<p class="sidebar1"><strong>NOTE:</strong> Any category, besides 'FEAT', must have been defined in the 
			<span class="lstfile">miscinfo.lst</span> or <span class="lstfile">abilitycategory.lst</span> 
			file to be valid. See the <a href="#SECTION2">Advanced Conversion</a> section for more 
			information.</p>
		<p class="indent0"><strong>TYPE</strong></p>
		<p class="indent1"><strong>Tag Format:</strong> <code>TYPE:General</code></p>
		<p class="indent1">We have a period '.' delimiter to give the ability more than one 'type'. In 
			this case we have 'General' as a 'type'. Same as standard feats '.' period delimiter.</p>
		<p class="indent0"><strong>VISIBLE</strong></p>
		<p class="indent1"><strong>Tag Format:</strong> <code>VISIBLE:YES</code></p>
		<p class="indent1">Setting the visible to YES (which is default) allows the user to see this 
			on the GUI in PCGen. DISPLAY, NO, YES and QUALIFY are the valid entries.</p>
		<p class="indent0"><strong><code>DESC</code></strong></p>
		<p class="indent1"><strong>Tag Format:</strong> <code>DESC:&lt;appropriate description&gt;</code></p>
		<p class="indent1">This is where you type the text you want to appear with your chosen ability. 
			This will be displayed on the character sheet UNLESS the ability is set to NO or DISPLAY. 
			In that case you would skip this tag and may instead use 'SA:' tag 5.12 and earlier or 'SAB:' 
			tag (5.14) in it's place. You may also use %1, %2 for variables defined. See DESC tag for 
			further details.</p>
		<p class="sidebar1"><strong>Note:</strong> You may continue to use 
			<a href="../globalfilestagpages/globalfilesprexxx.html#PREFEAT">PREFEAT</a>, 
			when testing for the converted abilities, but it is recommended that you use 
			<a href="../globalfilestagpages/globalfilesprexxx.html#PREABILITY">PREABILITY</a> instead.</p>
		<p class="indent0"><strong>Example:</strong></p>
		<p class="indent2"><code>My Feat</code></p>
		<p class="indent2"><code>CATEGORY:FEAT</code></p>
		<p class="indent2"><code>TYPE:General</code></p>
		<p class="indent2"><code>VISIBLE:YES</code></p>
		<p class="indent2"><code>DESC:&lt;appropriate description&gt;</code></p>
		<p></p>

		
<hr>

		<h3>The PCC File</h3>
		<p class="indent1">PCGen uses the <code>ABILITY:ability.lst</code> tag to identify the files in 
			which PCGen's new &quot;Ability&quot; objects can be found and loaded into PCGen. Likewise, 
			PCGen uses the <code>ABILITYCATEGORY:abilitycategory.lst</code> tag to identify the files in 
			which PCGen will find the &quot;Ability Categories&quot; required to implement the new abilities. 
			More information can be found in the <a href="lfc_lesson01_pcc.html">PCC LST File Class</a></p>
		<p class="indent1"><strong><code>ABILITY</code></strong></p>
		<p class="indent2">PCGen uses the <code>ABILITY:ability.lst</code> tag to identify the files in 
			which PCGen's new &quot;Ability&quot; objects can be found and loaded into PCGen.</p>

		<p class="indent1"><strong><code>ABILITYCATEGORY</code></strong></p>
		<p class="indent2">PCGen uses the <code>ABILITYCATEGORY:abilitycategory.lst</code> tag to identify 
			the files in which PCGen will find the &quot;Ability Categories&quot; required to implement 
			the new abilities.</p>
		<p class="indent1"><strong>Example:</strong></p>
		<p class="indent2"><code>ABILITY:my_ability.lst</code></p>
		<p class="indent2"><code>ABILITYCATEGORY:my_abilitycategory.lst</code></p>
		<p></p>

<hr>

		<h2><a name="SECTION2">Section 2: The Advanced Conversion</a></h2>
		
		<p class="indent1">TBD</p>
		<p class="indent1">The relevant tags are explained below.</p>
		<p></p>

<hr>

		<h3>Miscinfo.lst or Abilitycategory.lst  File</h3>
		<p class="indent1">For Homebrews you'll need to set up any special &quot;abilities&quot; 
			in their own pools. To demonstrate this, we'll use the sample ability category shown below:</p>
		<p class="indent1"><strong><code>ABILITYCATEGORY</code></strong></p>
		<p class="indent2">This defines the Ability Category. This is what will show in the PCGen user interface, under the FEATs tab.</p>
		<p class="indent1"><strong><code>CATEGORY</code></strong></p>
		<p class="indent2">This is a 'sub-category'. You'll note we leave it the same for this example 
			but you can have the same ability name as long as it has a different category name. As an 
			example, you could have an ability <span class="lstobj">FooBarSneak</span> of 
			<code>CATEGORY:Ambush</code>, and an ability <span class="lstobj">FooBarSneak</span> 
			of <code>CATEGORY:Rogue</code> with no conflicts within PCGen.</p>
		<p class="sidebar1">NOTE: Categories may be different, you can make any category you want as long as 
			it is defined in either the <span class="lstfile">miscinfo.lst</span> or 
			<span class="lstfile">miscinfo.lst</span> file.</p>
		<p class="indent1"><strong><code>PLURAL</code></strong></p>
		<p class="indent2">This has to do with the internationalization. An example is: in_feats which sets the 
			Category key to 'in_feats'. It also shows up with the 'Plural' of the name. Ex. Feat would be Feats 
			(Feats would display in the drop down bar).</p>
		<p class="indent1"><strong><code>EDITABLE</code></strong></p>
		<p class="indent2">This defines whether a user can modify the abilities in the category. NO would be 
			appropriate for class abilities which aren't chosen by the user.</p>
		<p class="indent1"><strong><code>EDITPOOL</code></strong></p>
		<p class="indent2">This defines whether a user can modify the pool number or not. Each ability has a 
			'cost' (Default is 1) if this option is set to 'NO' the user cannot add or subtract from the pool. 
			For feats, the default is 'YES'.</p>
		<p class="indent1"><strong><code>FRACTIONALPOOL</code></strong></p>
		<p class="indent2">This defines whether the pool must be a whole number or can be fractions. Some 
			abilities may have a cost less than '1' like .5 or .25. &lt;YES / NO&gt;</p>
		<p class="indent1"><strong><code>POOL</code></strong></p>
		<p class="indent2">0 unless you want a formula to determine the pool number. Example: TL/2 would 
			grant one point every 2 levels to the character. </p>
		<p class="indent1"><strong><code>VISIBLE</code></strong></p>
		<p class="indent2">Defines whether this category is visible on the UI or hidden. Usefull for hidden 
			abilities and class abilities that require no interaction from the user. &lt;Options are - YES, 
			NO, QUALIFY&gt;</p>
		<p class="indent1"><strong>Example:</strong></p>
		<p class="indent2"><code>ABILITYCATEGORY:My Ability Category</code></p>
		<p class="indent2"><code>CATEGORY:FEAT</code></p>
		<p class="indent2"><code>PLURAL:Class Ability Categories</code></p>
		<p class="indent2"><code>EDITABLE:YES</code></p>
		<p class="indent2"><code>EDITPOOL:NO</code></p>
		<p class="indent2"><code>FRACTIONALPOOL:NO</code></p>
		<p class="indent2"><code>POOL:0</code></p>
		<p class="indent2"><code>VISIBLE:YES</code></p>

<hr>

		<h2>Conclusion: The LST Files</h2>
		
<hr>

		<h2>Final Thoughts</h2>
		
		<p class="indent0">Unless you've made a new Ability Category, all feats converted to abilities will 
			show up on the 'Feats' tab as normal. Great examples of new ability categories can be seen in 
			the RSRD/SRD for the <span class="lstobj">Fighter</span>, <span class="lstobj">Wizard</span> 
			and <span class="lstobj">Rogue</span> class.</p>
		<p class="indent0">Remember, miscinfo.lst is a gamemode file, to define new ability categories 
			or subcategories you MUST create it there. There are entries about them in the docs if you 
			want to read up on them.  To call the ability file it's (as you guessed), ABILITY:ability.lst, 
			in the .pcc file. Basically pretend that an ability.lst is a feat file as far as what tags 
			you can use in it and you'll be ok (fair warning though, there may be exceptions to that 
			rule of thumb).</p>
		<p></p>

<hr>

		<p class="indent0">Andrew</p>

<hr>

		<p>
			<a href="http://validator.w3.org/check?uri=referer"><img
       		src="../../images/system/valid-html401.png"
       		alt="Valid HTML 4.01 Strict" height="31" width="88"></a>
		</p>
	</body>
</html>
